# import urllib.request## response = urllib.request.urlopen('https://www.python.org')# print(response.read().decode('utf-8'))## print(type(response))# print(response.getheaders())# print(response.getheader('Server'))# print(response.status)#### request = urllib.request.Request('https://python.org')# response = urllib.request.urlopen(request)# print(response.read().decode('utf-8'))### #测试parse模块# from urllib.parse import urlparse## result = urlparse('http://www.baidu.com/index.html;user?id=5#comment')# print(type(result),result)### #测试robotparser# from urllib.robotparser import RobotFileParser## rp = RobotFileParser()# rp.set_url('http://www.jianshu.com/robot.txt')# rp.read()# #判断网页是否可以抓取# print('网页是否可以抓取:',rp.can_fetch('*','http://www.jianshu.com/p/b67554025d7d'))### import requests## r = requests.get('https://www.baidu.com')# print(type(r))# print(r.status_code)# print(type(r.text))# print(r.text)# print(r.cookies)import requests#测试GET请求# r2 = requests.get('http://www.httpbin.org/get?name=germey&age=22')# print(r2.text)#构建GET请求data ={    'name':'germey',    'age':22}#返回的r的类型是str#通过json解析以后，可以得到json格式# r = requests.get('http://www.httpbin.org/get',params=data)# print(r.text)# print(type(r.text))# #得到字典格式# print(r.json())# print(type(r.json()))#抓取知乎的问题import re# headers = {#     'User-Agent':'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36'# }# r = requests.get("https://www.zhihu.com/explore", headers=headers)# pattern = re.compile('explore-feed.*?question_link.*?>(.*?)</a>',re.S)# titles = re.findall(pattern, r.text)# print(titles)# r = requests.get("https://github.com/favicon.ico")# print(r.text)# print(r.content)## #保存抓取到的图片文件# with open('favicon.ico','wb') as f:#     f.write(r.content)#文件上传files = {'file':open('favicon.ico','rb')}r = requests.post("http://httpbin.org/post",files=files)print(r.text)#Cookiesr = requests.get("https://www.baidu.com")print('cookie:',r.cookies)#使用items方法转化为元组组成的列表for key,value in r.cookies.items():    print(key + '=' + value)#Sessionrequests.get('http://httpbin.org/cookies/set/number/123456789')r = requests.get('http://httpbin.org/cookies')print(r.text)s = requests.Session()s.get('http://httpbin.org/cookies/set/number/123456789')r = s.get('http://httpbin.org/cookies')print(r.text)